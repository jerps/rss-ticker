/*!
 * The MIT License (MIT)
 * 
 * Copyright (c) 2019 John Erps
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
 * of the Software, and to permit persons to whom the Software is furnished to do
 * so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ModuleRssTicker=t():e.ModuleRssTicker=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t,n,r,i,o,l){try{var a=e[o](l),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var l=e.apply(t,n);function a(e){r(l,i,o,a,u,"next",e)}function u(e){r(l,i,o,a,u,"throw",e)}a(void 0)})}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return c(e,arguments,p(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)})(e)}function c(e,t,n){return(c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i}).apply(null,arguments)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,"default",function(){return y});var h=[255,0,0],f=[0,0,255],m=20,g=document.createElement("template");g.innerHTML="\n  <style>\n    *, *:before, *:after {\n      box-sizing: border-box;\n    }\n    :host {\n      display: inline-block;\n      overflow-x: hidden;\n    }\n    :host([hidden]) {\n      display: none;\n    }\n    #wrapper {\n      position: relative;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      white-space: nowrap;\n      margin: 0;\n      padding: 0;\n      border-width: 0;\n      cursor: default;\n    }\n    .itemcont {\n      border-width: 0;\n      margin: 0;\n      padding: 0;\n    }\n    .item {\n      border-width: 0;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      user-select: none;\n    }\n    .itemnoimg {\n      padding: 0.3em 1em 0.4em 1em;\n      flex-direction: column;\n    }\n    .itemimg {\n      padding: 0.2em 0.8em 0.2em 1.1em;\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n    }\n    .item-text {\n      margin: 0;\n      padding: 0 0 0 0.7em;\n      border-width: 0;\n    }\n    .item-img-div {\n      display: flex;\n      margin: 0;\n      padding: 0.25em 0.8em 0.25em 0;\n      border-width: 0;\n    }\n    .item-img {\n      margin: auto;\n      max-height: 100%;\n      padding: 0;\n      border-width: 0;\n    }\n    .item-title {\n      font-size: 112%;\n      line-height: 1.7;\n      margin: 0;\n      padding: 0 0 0 0.15em;\n      border-width: 0;\n    }\n    .item-date {\n      font-size: 97%;\n      line-height: 1.3;\n      margin: 0 0.2em 0 0.3em;\n      padding: 0;\n      border-width: 0;\n    }\n  </style>\n",window.ShadyCSS&&ShadyCSS.prepareTemplate(g,"rss-ticker");var y=function(e){function t(){var e,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,(e=!(r=p(t).call(this))||"object"!==o(r)&&"function"!=typeof r?l(n):r).attachShadow({mode:"open"}),e.shadowRoot.appendChild(document.importNode(g.content,!0)),e._impl=function(e){var t={pv:{busy:!1}},n=e.shadowRoot,r=0,l=null,a=0,u=!0,s=null;var c=null;var d=null;t.speedChanged=function(){d&&d()};var p=null;t.imgSizeChanged=function(){p&&p()};var g=null;t.fontSizeChanged=function(){g&&g()};var y=null;t.itemGapChanged=function(){y&&y()};var x=null;t.colorChanged=function(){x&&x()};var k=null;t.hrsNewChanged=function(){k&&k()};var S=null;t.hrsOldChanged=function(){S&&S()};var C=null;t.transparencyChanged=function(){C&&C()};var A=null;t.infoBoxLinkColorChanged=function(){A&&A()};var L=null;t.infoBoxLinkBgColorChanged=function(){L&&L()};var R=null;function N(){s=null,c=null,d=null,p=null,g=null,y=null,x=null,k=null,S=null,C=null,A=null,L=null,R=null}function E(e,t){r>=Number.MAX_SAFE_INTEGER&&(r=0),r++,!1!==e&&function(e,t){z.apply(this,arguments)}(r,t)}function _(n,r){!t.pv.busy||r||e.cancelRun?E(!0,n):function(e){s&&s(e)}(n)}function B(n){!t.pv.busy||n||e.cancelRun?(E(!1),N()):c&&c()}t.moveRightChanged=function(){R&&R()},t.start=_,t.stop=B,t.upgradeProperty=function(t){if(e.hasOwnProperty(t)){var n=e[t];delete e[t],e[t]=n}};var M=function(n){var r=!0,i=!1,o=void 0;try{for(var l,a=t.pv.fetchedListeners[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var u=l.value;u.call(e,Object.assign({},n))}}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}},P=function(n){var r=!0,i=!1,o=void 0;try{for(var l,a=t.pv.runListeners[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var u=l.value;u.call(e,Object.assign({},n))}}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}},O=function(n){var r=!0,i=!1,o=void 0;try{for(var l,a=t.pv.busyListeners[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var u=l.value;u.call(e,n)}}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}};function z(){return(z=i(regeneratorRuntime.mark(function E(z,T){var j,I,H,D,F,q,X,U,W,Y,G,V,K,J,Q,Z,$,ee,te,ne,re,ie,oe,le,ae,ue,se,ce,de,pe,he,fe,me,ge,ye,be,ve,we,xe,ke,Se,Ce,Ae,Le,Re,Ne,Ee,_e,Be,Me,Pe,Oe,ze,Te,je,Ie,He,De,Fe,qe,Xe,Ue,We,Ye,Ge,Ve,Ke,Je,Qe,Ze,$e,et,tt;return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(tt=function(){return(tt=i(regeneratorRuntime.mark(function t(){var n,r,l,a,u,s,c,d,p,h,f,m,g,y,b,v,w,x,k,S,C,A,L,R,N,E,_,B,M,P,O,z,T,D,q,X,U,W,Y,G,V,K,J,Q,Z,$,ee,te,ne,re,ie,oe,le,ae,ue,se,ce,de,pe;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=function(e){e&&(F=!0,j[0].error=e),H=!1,I=!0},H=!0,t.prev=2,r=function(e,t,n){var r=_.get(e);r||(r=new Map,_.set(e,r));var i=r.get(t);i||(i=[],r.set(t,i));var o=!0,l=!1,a=void 0;try{for(var u,s=n[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value;i.push(c.trim())}}catch(e){l=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(l)throw a}}},l=function e(t,n){for(var i=t.children,o=null,l=null,s=0,c=-1,d=-1,p="",h="",f="",m=null,g=null,y=null,b=null,v=null,w=null,x=null,k=null,S=null;s<i.length;)if(p=i[s].tagName.toLowerCase(),h=-1===c?"":o[c].tagName.toLowerCase(),f=-1===d?"":l[d].name.toLowerCase(),-1===c&&-1===d&&(S&&"alternate"===k&&(w=S),S&&!k&&(x=S),k=S=null),0!==n||"item"!==p&&"entry"!==p){var C="";if(C=-1===d?-1===c?i[s].textContent?i[s].textContent.trim():"":o[c].textContent?o[c].textContent.trim():"":l[d].value?l[d].value.trim():""){p.includes("title")&&-1===c&&-1===d&&(j[n].title=C),(p.includes("description")||p.includes("summary"))&&-1===c&&-1===d&&(j[n].description=C),n>0&&(p.includes("content")&&-1===c&&-1===d&&(j[n].content=C),(p.includes("date")||p.includes("updated"))&&-1===c&&-1===d&&(m=a(C)),p.includes("published")&&-1===c&&-1===d&&(g=a(C)),p.includes("link")&&-1===c&&-1===d&&(y=C),p.includes("content")&&-1===c&&"src"===f&&C.startsWith("http")&&(b=C),"id"===p&&-1===c&&-1===d&&C.startsWith("http")&&(v=C),p.includes("link")&&-1===c&&"rel"===f&&(k=C.toLowerCase()),p.includes("link")&&-1===c&&"href"===f&&C.startsWith("http")&&(S=C));var A=u(C),L=9;A.length>0&&(p.includes("image")&&h.includes("url")&&-1===d?L=1:p.includes("enclosure")&&-1===c&&"url"===f?L=2:p.includes("image")||h.includes("image")||f.includes("image")||p.includes("media")||h.includes("media")||f.includes("media")||p.includes("thumbnail")||h.includes("thumbnail")||f.includes("thumbnail")||p.includes("icon")||h.includes("icon")||f.includes("icon")||p.includes("logo")||h.includes("logo")||f.includes("logo")?L=3:(p.includes("title")||p.includes("description")||p.includes("summary")||p.includes("content"))&&(L=4),r(n,L,A))}-1===d?-1===c?i[s].hasAttributes()&&(l=i[s].attributes,d=0):o[c].hasAttributes()&&(l=o[c].attributes,d=0):d<l.length-1?d++:(l=null,d=-1),-1===d&&(-1===c?i[s].children.length>0&&(o=i[s].children,c=0):c<i[s].children.length-1?c++:(o=null,c=-1),-1===c&&s++)}else j.push({}),e(i[s],j.length-1),s++;m?j[n].date=m:g&&(j[n].date=g),y?j[n].link=y:b?j[n].link=b:v?j[n].link=v:w?j[n].link=w:x&&(j[n].link=x)},a=function(e){var t=new Date(e);return"[object Date]"!==Object.prototype.toString.call(t)?null:isNaN(t.getTime())?null:t},u=function(e){var t=e.match(/(http(s?):)([\/|.|\w|\s|-])*\.(?:jpg|jpeg|gif|png)/g);return t||[]},s=function(){var e=i(regeneratorRuntime.mark(function e(t){var n,r,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=_.get(t)){e.next=3;break}return e.abrupt("return");case 3:r=regeneratorRuntime.mark(function e(r){var i,l,a,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=n.get(r))){e.next=13;break}return e.next=4,new Promise(function(e,t){var n=i.reduce(function(e,t){return e+(t?1:0)},0);if(0===n)e(null);else for(var r=function(t){if(i[t]){var r=i[t];i[t]=new Image,i[t].src=r,i[t].onload=function(){0===--n&&e(null)},i[t].onerror=function(){i[t]=null,0===--n&&e(null)}}},o=0;o<i.length;o++)r(o)});case 4:for(a=-1,l=-1,u=0;u<i.length;u++)i[u]&&i[u].width+i[u].height>a&&(l=u,a=i[u].width+i[u].height);if(!(l>-1)){e.next=12;break}return e.delegateYield(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[i[l],new Image],e.next=3,new Promise(function(e,t){n[1].src=n[0].src,n[1].onload=function(){e(null)},n[1].onerror=function(){n[1]=null,e(null)}});case 3:if(!n[1]){e.next=9;break}return j[0].hasImgs=!0,j[t].image=n,e.abrupt("return",{v:{v:void 0}});case 9:i[l]=null;case 10:case"end":return e.stop()}},e)})(),"t0",9);case 9:if("object"!==o(s=e.t0)){e.next=12;break}return e.abrupt("return",s.v);case 12:if(l>-1){e.next=4;break}case 13:case"end":return e.stop()}},e)}),i=1;case 5:if(!(i<=9)){e.next=13;break}return e.delegateYield(r(i),"t0",7);case 7:if("object"!==o(l=e.t0)){e.next=10;break}return e.abrupt("return",l.v);case 10:i++,e.next=5;break;case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j[0].url){t.next=10;break}return t.abrupt("return",n("No url."));case 10:if(c="",!e.proxyUrl){t.next=18;break}if(-1!==(c=$e(e.proxyUrl)).indexOf("%%_URL_%%")){t.next=15;break}throw new Error("Proxy url contains no %%_URL_%%.");case 15:c=c.replace("%%_URL_%%",j[0].url),t.next=19;break;case 18:c=j[0].url;case 19:return t.next=21,fetch(c,e.fetchOpts);case 21:if(d=t.sent,ke()&&n(null),d.ok){t.next=25;break}throw new Error("HTTP response not ok ("+d.status+" "+d.statusText()+").");case 25:return t.t0=String,t.next=28,d.text();case 28:if(t.t1=t.sent,p=(0,t.t0)(t.t1).trim(),ke()&&n(null),0!==p.length){t.next=33;break}throw new Error("HTTP response has empty body.");case 33:if(h=new DOMParser,f=h.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI,!((m=h.parseFromString(p,"text/xml")).getElementsByTagNameNS(f,"parsererror").length>0)){t.next=38;break}throw new Error("Could not parse RSS/Atom feed.");case 38:for(h=null,g=m.querySelectorAll("item"),y=[],b=!0,v=!1,w=void 0,t.prev=44,x=g[Symbol.iterator]();!(b=(k=x.next()).done);b=!0)(S=k.value).parentElement&&S.querySelector("title")&&(h=h||S.parentElement)===S.parentElement&&y.push(S);t.next=52;break;case 48:t.prev=48,t.t2=t.catch(44),v=!0,w=t.t2;case 52:t.prev=52,t.prev=53,b||null==x.return||x.return();case 55:if(t.prev=55,!v){t.next=58;break}throw w;case 58:return t.finish(55);case 59:return t.finish(52);case 60:if(0!==y.length){t.next=83;break}for(h=null,g=m.querySelectorAll("entry"),y=[],C=!0,A=!1,L=void 0,t.prev=67,R=g[Symbol.iterator]();!(C=(N=R.next()).done);C=!0)(E=N.value).parentElement&&E.querySelector("title")&&(h=h||E.parentElement)===E.parentElement&&y.push(E);t.next=75;break;case 71:t.prev=71,t.t3=t.catch(67),A=!0,L=t.t3;case 75:t.prev=75,t.prev=76,C||null==R.return||R.return();case 78:if(t.prev=78,!A){t.next=81;break}throw L;case 81:return t.finish(78);case 82:return t.finish(75);case 83:if(0!==y.length){t.next=85;break}throw new Error("No items/entries (with title) found in RSS/Atom feed.");case 85:if(h){t.next=87;break}throw new Error("Items/entries have no parent node in RSS/Atom feed.");case 87:_=new Map,l(h,0),B=!0,M=!1,P=void 0,t.prev=92,O=_.keys()[Symbol.iterator]();case 94:if(B=(z=O.next()).done){t.next=180;break}T=z.value,D=_.get(T),q=!0,X=!1,U=void 0,t.prev=100,W=D.keys()[Symbol.iterator]();case 102:if(q=(Y=W.next()).done){t.next=163;break}G=Y.value,V=D.get(G),K=0;case 106:if(!(K<V.length)){t.next=160;break}if(!(J=V[K])){t.next=157;break}V[K]=null,Q=!0,Z=!0,$=!1,ee=void 0,t.prev=114,te=_.keys()[Symbol.iterator]();case 116:if(Z=(ne=te.next()).done){t.next=142;break}if((re=ne.value)===T){t.next=139;break}for(ie=_.get(re),oe=!0,le=!1,ae=void 0,t.prev=123,ue=ie.keys()[Symbol.iterator]();!(oe=(se=ue.next()).done);oe=!0)for(ce=se.value,de=ie.get(ce),pe=0;pe<de.length;pe++)de[pe]&&de[pe]===J&&(Q=!1,de[pe]=null);t.next=131;break;case 127:t.prev=127,t.t4=t.catch(123),le=!0,ae=t.t4;case 131:t.prev=131,t.prev=132,oe||null==ue.return||ue.return();case 134:if(t.prev=134,!le){t.next=137;break}throw ae;case 137:return t.finish(134);case 138:return t.finish(131);case 139:Z=!0,t.next=116;break;case 142:t.next=148;break;case 144:t.prev=144,t.t5=t.catch(114),$=!0,ee=t.t5;case 148:t.prev=148,t.prev=149,Z||null==te.return||te.return();case 151:if(t.prev=151,!$){t.next=154;break}throw ee;case 154:return t.finish(151);case 155:return t.finish(148);case 156:Q&&(V[K]=J);case 157:K++,t.next=106;break;case 160:q=!0,t.next=102;break;case 163:t.next=169;break;case 165:t.prev=165,t.t6=t.catch(100),X=!0,U=t.t6;case 169:t.prev=169,t.prev=170,q||null==W.return||W.return();case 172:if(t.prev=172,!X){t.next=175;break}throw U;case 175:return t.finish(172);case 176:return t.finish(169);case 177:B=!0,t.next=94;break;case 180:t.next=186;break;case 182:t.prev=182,t.t7=t.catch(92),M=!0,P=t.t7;case 186:t.prev=186,t.prev=187,B||null==O.return||O.return();case 189:if(t.prev=189,!M){t.next=192;break}throw P;case 192:return t.finish(189);case 193:return t.finish(186);case 194:return t.next=196,Promise.all(j.map(function(e,t){return s(t)}));case 196:if(!ke()){t.next=198;break}return t.abrupt("return",n(null));case 198:if(1!==j.length){t.next=200;break}throw new Error("RSS/Atom feed does not contain any items/entries.");case 200:t.next=205;break;case 202:return t.prev=202,t.t8=t.catch(2),t.abrupt("return",n(t.t8.message||"Could not fetch or parse RSS."));case 205:return t.abrupt("return",n(null));case 206:case"end":return t.stop()}},t,null,[[2,202],[44,48,52,60],[53,,55,59],[67,71,75,83],[76,,78,82],[92,182,186,194],[100,165,169,177],[114,144,148,156],[123,127,131,139],[132,,134,138],[149,,151,155],[170,,172,176],[187,,189,193]])}))).apply(this,arguments)},et=function(){return tt.apply(this,arguments)},$e=function(e){if(e){var t=String(e).trim();if(0!==t.length)return t}},Ze=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,l=e.childNodes[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var a=o.value;a.remove()}}catch(e){r=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw i}}var u=!0,s=!1,c=void 0;try{for(var d,p=t[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;e.appendChild(h)}}catch(e){s=!0,c=e}finally{try{u||null==p.return||p.return()}finally{if(s)throw c}}},Qe=function(){if(ae<2&&(se||ue)&&J&&J[(se||ue)-1]){if(J[(se||ue)-1][4].style.borderStyle="dotted",0===ae){var t=J[(se||ue)-1][6].col?J[(se||ue)-1][6].col:h;J[(se||ue)-1][4].style.borderColor="rgba("+t[0]+", "+t[1]+", "+t[2]+", 1)"}window.ShadyCSS&&ShadyCSS.styleSubtree(e)}if(ve){ve.style.opacity="0";var n=ve;ve=null,we=[],setTimeout(function(){n.remove()},1e3)}},Je=function(e,t){var n=e.cloneNode(),r=e.childNodes,i=!0,o=!1,l=void 0;try{for(var a,u=r[Symbol.iterator]();!(i=(a=u.next()).done);i=!0){var s=a.value,c="A"===s.nodeName,d=Je(s,t||c);if(c){var p="",h=s.getAttributeNode("href");h&&h.nodeValue&&(p=h.nodeValue.trim());var f=d;t||!p?(d=document.createElement("span")).innerHTML=f.innerHTML:d=Ke(f.innerHTML,p)}n.appendChild(d)}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}return n},Ke=function(t,n){var r,i,o=J[ue-1][6].col?J[ue-1][6].col:h,l=w(e.infoBoxLinkColor);function a(){l=w(e.infoBoxLinkBgColor),i=l?[l[0],l[1],l[2]]:[255,255,255]}r=l?[l[0],l[1],l[2],l[3]]:[o[0],o[1],o[2],1],a();var u=[document.createElement("span"),.5];u[0].style.transition="background-color 0.4s ease-out",u[0].style.backgroundColor="rgba("+i[0]+", "+i[1]+", "+i[2]+", "+u[1]+")",u[0].style.cursor="pointer",u[0].style.color="rgba("+r[0]+", "+r[1]+", "+r[2]+", "+r[3],u[0].innerHTML=t;var s=null;return u[0].addEventListener("mouseenter",function(e){e.preventDefault(),s||(a(),u[1]=.7,u[[0]].style.backgroundColor="rgba("+i[0]+", "+i[1]+", "+i[2]+", "+u[1]+")")}),u[0].addEventListener("mouseleave",function(e){e.preventDefault(),s||(a(),u[1]=.5,u[0].style.backgroundColor="rgba("+i[0]+", "+i[1]+", "+i[2]+", "+u[1]+")")}),u[0].addEventListener("click",function(e){e.preventDefault(),window.open(n,"_blank"),u[0].style.transition="",a(),u[1]=1,u[0].style.backgroundColor="rgba("+i[0]+", "+i[1]+", "+i[2]+", "+u[1]+")",s&&clearTimeout(s),s=setTimeout(function(){u[0].style.transition="background-color 1s ease-out",a(),u[1]=.5,u[0].style.backgroundColor="rgba("+i[0]+", "+i[1]+", "+i[2]+", "+u[1]+")",s=setTimeout(function(){s=null,u[0].style.transition="background-color 0.4s ease-out",a(),u[1]=.5,u[0].style.backgroundColor="rgba("+i[0]+", "+i[1]+", "+i[2]+", "+u[1]+")"},1e3)},500)}),we.push(u),u[0]},Ve=function(){if(ve&&!(ae<2)&&0!==ue){var t,n,r=J[ue-1][6].col?J[ue-1][6].col:h;ve.style.backgroundColor="rgba("+r[0]+", "+r[1]+", "+r[2]+", "+(1-ne)+")";var i=w(e.infoBoxLinkColor);t=i?[i[0],i[1],i[2],i[3]]:[r[0],r[1],r[2],1],i=w(e.infoBoxLinkBgColor),n=i?[i[0],i[1],i[2]]:[255,255,255];for(var o=0,l=we;o<l.length;o++){var a=l[o];a[0].style.color="rgba("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")",a[0].style.backgroundColor="rgba("+n[0]+", "+n[1]+", "+n[2]+", "+a[1]+")"}}},Ge=function(){if(!(ve||ae<2||0===ue||ue>j.length-1||ue>J.length)){var t,n=J[ue-1][4].getBoundingClientRect(),r=e.getBoundingClientRect();if(!(n.left<r.left&&n.width-r.left+n.left<.1*n.width||n.right>r.right&&n.width-n.right+r.right<.1*n.width)){we=[],J[ue-1][4].style.borderStyle="solid",(ve=document.body.appendChild(document.createElement("div"))).style.position="absolute",ve.style.transition="opacity 1s ease-out",ve.style.opacity="0",ve.style.borderStyle="solid",ve.style.borderWidth="2px",ve.style.borderColor="black",ve.style.color=getComputedStyle(e).color,ve.style.fontFamily=getComputedStyle(e).fontFamily,ve.style.fontSize=Math.round(.95*parseFloat(getComputedStyle(J[ue-1][5]).fontSize)),ve.style.padding="1.3rem 1.2rem 1rem 1.6rem",ve.style.overflow="hidden",ve.style.cursor="default",ve.style.userSelect="none",ve.style.top="0px",ve.style.left="0px",ve.style.bottom="",ve.style.right="";var i,o,l,a=null,u=!1;(o=document.createElement("span")).style.lineHeight="1.3",j[ue].description?o.innerHTML=j[ue].description:j[ue].content&&(o.innerHTML=j[ue].content,u=!0,i=Je(o),Ze(o,i.childNodes)),j[ue].description&&j[ue].content&&((l=document.createElement("span")).style.lineHeight="1.3",l.innerHTML=j[ue].content,l.textContent.trim()!==o.textContent.trim()&&(u=!0,i=Je(l),Ze(l,i.childNodes))),j[ue].description&&(i=Je(o),Ze(o,i.childNodes));var s=j[ue].image&&(!j[ue].description||!j[ue].description.includes(j[ue].image[1].src))&&(!u||!j[ue].content||!j[ue].content.includes(j[ue].image[1].src));if(s){(a=ve.appendChild(j[ue].image[1])).style.float="left",a.style.maxWidth="40%",a.style.maxHeight="80%",a.style.margin="0 1.2rem 0 0";var c=getComputedStyle(J[ue-1][0]);a.style.minWidth=2*parseFloat(c.width)+"px",a.style.minHeight=2*parseFloat(c.height)+"px"}ve.appendChild(o),j[ue].description&&j[ue].content&&u&&(i=document.createElement("br"),ve.appendChild(i),(i=document.createElement("span")).style.lineHeight="1.2",i.innerHTML=" ― ― ―<br>",ve.appendChild(i),ve.appendChild(l));var d=Math.round(document.body.clientWidth>document.body.clientHeight?document.body.clientWidth/(s?2:3):document.body.clientWidth/(s?1.5:2));ve.style.width=d+"px";var p,h,f=ve.getBoundingClientRect().height,m=d/3;do{h=d,d*=.95,ve.style.width=d+"px",p=f,f=ve.getBoundingClientRect().height}while(d>m&&f<=p);ve.style.width=h+"px",j[ue].link&&((o=document.createElement("div")).style.display="flex",o.style.flexDirection="column",o.style.clear="left",ve.appendChild(o),(i=document.createElement("hr")).style.backgroundColor="black",i.style.width="70%",i.style.height="2px",i.style.margin="0.65rem auto 0.65rem auto",i.style.lineHeight="1.3",o.appendChild(i),(l=document.createElement("div")).style.fontFamily="Arial",l.style.display="flex",l.style.justifyContent="flex-start",o.appendChild(l),(i=document.createElement("div")).style.fontSize="110%",i.style.margin="auto 0.6rem auto 0",i.textContent="▶",l.appendChild(i),(i=document.createElement("div")).style.fontSize="75%",i.style.wordBreak="break-all",i.style.lineHeight="1.2",o=Ke(j[ue].link,j[ue].link),i.appendChild(o),l.appendChild(i)),a&&(a.style.borderRadius=Math.round(Math.min(h,p)/16)+"px"),ve.style.borderRadius=Math.round(Math.min(h,p)/8)+"px",ve.style.top="",ve.style.left="",t=ve.getBoundingClientRect();var g=document.body.clientHeight-n.bottom+n.height+2-(3===ae?n.height+4+t.height:0);g<0&&(g=0),g+t.height>document.body.clientHeight?ve.style.top="0px":ve.style.bottom=g+"px";var y=n.left+(n.width-t.width)/2;y+t.width>r.right&&(y-=y+t.width-r.right),y<r.left&&(y=r.left),y+t.width>document.body.clientWidth&&(y-=y+t.width-document.body.clientWidth),y<0&&(y=0),Ve(),ve.style.left=y+"px",ve.style.opacity="1",window.ShadyCSS&&ShadyCSS.styleSubtree(e)}}},Ye=function(e){if(xe=e.pageY,!(0===ae||0===ue||he||de>0)){e.preventDefault();var t=J[ue-1][4].getBoundingClientRect(),n=ae;1===ae?e.pageY<t.top?(ae=2,Ge()):e.pageY>t.bottom&&(ae=3,Ge()):2===ae?e.pageY>t.bottom?(ae=3,Qe(),Ge()):e.pageY>t.top&&(ae=1,Qe()):3===ae&&(e.pageY<t.top?(ae=2,Qe(),Ge()):e.pageY<t.bottom&&(ae=1,Qe())),1===ae&&(1!==n&&(ce=e.pageX),pe=(pe=(Math.abs(e.pageX-ce)<.02*screen.width?0:e.pageX>ce?e.pageX-ce-.02*screen.width:e.pageX-ce+.02*screen.width)/(screen.width/2))<-1?-1:pe>1?1:pe,fe&&(pe=0-pe))}},We=function(e){if(he=!0,de>0)de=0;else{if(ve&&ae>1&&ue>0){var t=ve.getBoundingClientRect();if(e.pageX>=t.left&&e.pageX<=t.right&&e.pageY>=t.top&&e.pageY<=t.bottom)return}ae=0,Qe(),ue=0,se=0,ce=0,de=0,pe=0}},Ue=function(t){if(he=!1,ae>0){if(ve&&ae>1&&se>0){var n=ve.getBoundingClientRect();if(t.pageX>=n.left&&t.pageX<=n.right&&t.pageY>=n.top&&t.pageY<=n.bottom)return t.preventDefault(),ue=se,se=0,de=t.pageY,void(xe=t.pageY)}ae=0,Qe(),ce=0,de=0,pe=0}0===ae&&ue>0&&(t.preventDefault(),J[ue-1][4].style.borderColor="black",ae=1,ce=t.pageX,de=0,pe=0,window.ShadyCSS&&ShadyCSS.styleSubtree(e)),se=0},Xe=function(e){se=ue,ue=0},qe=function(){oe=[],le=0},Fe=function(){0!==oe.length&&J&&0!==J.length&&(-3!==oe[le][1]&&oe[le][0](oe[le][1],oe[le][2],oe[le][3],oe[le][4]),-1===oe[le][1]?(oe[le][1]=1,le=le<oe.length-1?le+1:0):-2===oe[le][1]||-3===oe[le][1]?(oe.splice(le,1),le>=oe.length&&(le=0)):oe[le][4]?(oe[le][1]<oe[le][4]?oe[le][1]++:oe[le][1]=-3,le=le<oe.length-1?le+1:0):(oe[le][1]<J.length?oe[le][1]++:oe[le][1]=-2,le=le<oe.length-1?le+1:0))},De=function(e,t,n){for(var r=0,i=oe;r<i.length;r++){var o=i[r];o[0]===e&&(o[1]=-3)}var l=[e,n?1:-1,t,[],n||null];0===oe.length?(oe.push(l),le=0):(oe.splice(le,0,l),le++)},He=function(t,n,r){-1===t||-2===t||(J[t-1][4].style.background="radial-gradient(rgba("+col[0]+", "+col[1]+", "+col[2]+", 1), rgba("+col[0]+", "+col[1]+", "+col[2]+", "+(1-ne)/2+"))",ve&&ae>1&&ue>0&&ue===t&&Ve(),window.ShadyCSS&&ShadyCSS.styleSubtree(e))},Ie=function(t,n,r,i){if(t===i){if(n>0&&n<j.length&&n<=J.length&&j[n].date){J[n-1][2].textContent=Oe(j[n].date);var o=ze(j[n].date),l=J[n-1][6].col;l&&o[0]===l[0]&&o[1]===l[1]&&o[2]===l[2]||(J[n-1][4].style.borderColor="rgba("+o[0]+", "+o[1]+", "+o[2]+", 1)",J[n-1][4].style.background="radial-gradient(rgba("+o[0]+", "+o[1]+", "+o[2]+", 1), rgba("+o[0]+", "+o[1]+", "+o[2]+", "+(1-ne)/2+"))",J[n-1][3]&&(J[n-1][3].style.borderColor="rgba("+o[0]+", "+o[1]+", "+o[2]+", 1)"),J[n-1][6].col=o,ve&&ae>1&&ue>0&&ue===n&&Ve(),window.ShadyCSS&&ShadyCSS.styleSubtree(e))}n<j.length-1?n++:n=1,De(Ie,n,m)}},je=function(e,t,n){if(ae>0&&(ae=0,Qe(),ue=0,se=0,ce=0,de=0,pe=0,he=!0),-1===e)n[0]=0;else if(-2===e)U=n[0];else{J[e-1][0]&&(J[e-1][0].style.height=t+"em"),Pe(e,J[e-1][6].itemGap?J[e-1][6].itemGap:1);var r=Be(e);n[0]+=r,U+=r-(J[e-1][6].itemLen?J[e-1][6].itemLen:r),J[e-1][6].itemLen=r}},Te=function(e,t,n){if(ae>0&&(ae=0,Qe(),ue=0,se=0,ce=0,de=0,pe=0,he=!0),-1===e)n[0]=0;else if(-2===e)U=n[0];else{Pe(e,t||(J[e-1][6].itemGap?J[e-1][6].itemGap:1));var r=Be(e);n[0]+=r,U+=r-(J[e-1][6].itemLen?J[e-1][6].itemLen:r),J[e-1][6].itemLen=r}},ze=function(e){var t=(new Date).getTime()-e,n=t/1e3/3600;return n<=ye?[me[0],me[1],me[2]]:n>=be?[ge[0],ge[1],ge[2]]:[Math.round(me[0]+(ge[0]-me[0])*n/be),Math.round(me[1]+(ge[1]-me[1])*n/be),Math.round(me[2]+(ge[2]-me[2])*n/be)]},Oe=function(e,t){if(t)return e.toLocaleString()+" ⋅⋅⋅ d888 h88 m88";var n=(new Date).getTime()-e;if(n<0)return e.toLocaleString()+" ⋅⋅⋅ d<0";var r=Math.trunc(n/1e3/3600),i=Math.trunc(r/24);if(i>999)return e.toLocaleString()+" ⋅⋅⋅ d>999";var o=Math.trunc((n-3600*r*1e3)/1e3/60);return r-=24*i,e.toLocaleString()+" ⋅⋅⋅"+(i>0?" d"+i:"")+(r>0?" h"+r:"")+" m"+o},Pe=function(t,n){var r,i;r=(r=Math.round((i=J[t-1][4].getBoundingClientRect().height)/5*n))<2?2:r,J[t-1][1].style.margin="0px "+r+"px 0px "+r+"px",J[t-1][4].style.borderRadius=Math.round(i/3)+"px",J[t-1][6].itemGapPx=r,J[t-1][6].itemGap=n,window.ShadyCSS&&ShadyCSS.styleSubtree(e)},Me=function(e){for(var t=1;t<=J.length;t++)Pe(t,e)},Be=function(e){return J[e-1][4].getBoundingClientRect().width+2*(J[e-1][6].itemGapPx?J[e-1][6].itemGapPx:0)},_e=function(){U=0;for(var e=1;e<=J.length;e++){var t=Be(e);J[e-1][6].itemLen=t,U+=t}},Ee=function(t,n,r,i){var o,a,u,s,c,d,p,f,m=!1;f=!r||"string"==typeof r||r instanceof String?h:ze(r),(o=document.createElement("div")).classList.add("itemcont"),l.appendChild(o),a=o,(o=document.createElement("div")).classList.add("item"),o.style.borderStyle="dotted",o.style.borderWidth="3px",o.style.borderColor="rgba("+f[0]+", "+f[1]+", "+f[2]+", 1)",o.style.background="radial-gradient(rgba("+f[0]+", "+f[1]+", "+f[2]+", 1), rgba("+f[0]+", "+f[1]+", "+f[2]+", "+(1-ne)/2+"))",u=o,a.appendChild(o),s=null,c=null,i?(i.setAttribute("tabindex","-1"),i.classList.add("item-img"),o.classList.add("itemimg"),(s=document.createElement("div")).classList.add("item-img-div"),s.style.height=e.imgSize+"em",s.style.width="auto",s.appendChild(i),o.appendChild(s),(o=document.createElement("div")).classList.add("item-text"),o.style.borderStyle="dotted",o.style.borderColor="rgba("+f[0]+", "+f[1]+", "+f[2]+", 1)",o.style.borderWidth="0 0 0 4px",u.appendChild(o),c=o):o.classList.add("itemnoimg"),(d=document.createElement("div")).classList.add("item-title"),d.textContent="-",o.appendChild(d),(p=document.createElement("div")).classList.add("item-date"),J.push([s,a,p,c,u,d,{col:f}]);var g="";"string"==typeof r||r instanceof String?g=r.trim():r&&(m=!0,g=Oe(r,1)),p.textContent=g.trim()||"- - -",o.appendChild(p),i&&(i.style.borderRadius=Math.round((i.getBoundingClientRect().width+i.getBoundingClientRect().height)/2/5)+"px"),d.textContent=n.trim()||"- - -",m&&(p.style.width=p.getBoundingClientRect().width+"px",p.textContent=Oe(r)),t&&(a.addEventListener("mousedown",function(e){e.preventDefault(),ue=t},!1),a.addEventListener("mousemove",function(e){if(e.preventDefault(),ae>0&&ue>0&&t!==ue&&!he&&0===de&&(ae>1&&(ae=1,Qe(),se=0,ce=e.pageX,de=0,pe=0),1===ae)){J[ue-1][4].style.borderStyle="dotted";var n=J[ue-1][6].col?J[ue-1][6].col:h;J[ue-1][4].style.borderColor="rgba("+n[0]+", "+n[1]+", "+n[2]+", 1)",J[(ue=t)-1][4].style.borderColor="black"}},!1))},Ne=function(){J=[],U=0,l.innerHTML="",l.style.left="auto",u=!1,qe()},Re=function(){return(Re=i(regeneratorRuntime.mark(function t(n,r,i,o){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return re=!0,l.style.transition="opacity 1s ease-out",l.style.opacity="0",window.ShadyCSS&&ShadyCSS.styleSubtree(e),t.next=6,new Promise(function(e,t){setTimeout(function(){return e(null)},1e3)});case 6:if(Ne(),o?(e.style.display="flex",e.style.justifyContent="center"):e.style.display="inline-block",n||r)i&&(u=!0),Ee(0,n,r,i);else for(a=1;a<j.length;a++)j[0].reqImgs&&j[a].image&&(u=!0),Ee(a,j[a].title,j[a].date,j[0].reqImgs&&j[a].image?j[a].image[0]:null);if(Me(e.itemGap),l.style.transition="opacity 3s ease-in",l.style.opacity="1",_e(),re=!1,De(Ie,1,m),window.ShadyCSS&&ShadyCSS.styleSubtree(e),!o){t.next=21;break}return ie=!0,t.next=20,new Promise(function(e,t){setTimeout(function(){return e(null)},3e3)});case 20:ie=!1;case 21:case"end":return t.stop()}},t)}))).apply(this,arguments)},Le=function(e,t,n,r){return Re.apply(this,arguments)},Ae=function(t){var n;t-G>300&&(G=t,X=e.getBoundingClientRect().width,q!==X&&(q=X,W=Y,V=K=0,De(Te,null)),Y=W),n=fe?-5-U+Math.round((q+10+U)*W):q+5-Math.round((q+10+U)*W),l.style.left=n+"px",V>0&&0===ae&&(W+=K*(t-V)/100),1===ae&&((W+=.002*pe)>1?W=1:W<0&&(W=0)),(0===K||t-V>50)&&(K=100*q/(5e4-49900*Math.log2(te)/3.321928094887362)/(q+100+U),V=t)},Se=function(){var e=!1;window.removeEventListener("mousedown",Xe),window.removeEventListener("mousedown",Ue),window.removeEventListener("mouseup",We),window.removeEventListener("mousemove",Ye),z===r&&(t.pv.busy&&(e=!0,t.pv.busy=!1),N()),l&&a===z&&(l.remove(),l=null),ae=0,Qe(),ue=0,se=0,ce=0,de=0,pe=0,he=!0,e&&O(!1)},ke=function(){return!b||!t.pv.connected||z!==r},t.pv.busy||(t.pv.busy=!0,O(!0)),v){E.next=40;break}return(v=new Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAEGWlDQ1BrQ0dDb2xvclNwYWNlR2VuZXJpY1JHQgAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lpurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZPC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q44WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23BaIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrlSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98hTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7ClP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmKPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZfsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19zn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNCUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KTYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyAgccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/qwBnjX8BoJ98VQNcC+8AAAALSURBVAgdY2AAAgAABQABjbub8wAAAABJRU5ErkJggg==",E.next=39,new Promise(function(e,t){v.onload=function(){return e(v)},v.onerror=function(){return e(null)}});case 39:v=E.sent;case 40:j=[{id:e.id||"",url:$e((T||"").trim()||e.url.trim()),hasImgs:!1,reqImgs:!e.noImgs}],I=!1,H=!1,D=!1,F=!1,q=0,X=0,U=0,W=0,Y=0,G=0,V=0,K=0,J=[],Q=performance.now(),Z=!1,$=null,ee=!1,te=e.speed,ne=e.transparency,re=!1,ie=!1,oe=[],le=0,ae=0,ue=0,se=0,ce=0,de=0,pe=0,he=!0,fe=e.moveRight,ve=null,we=[],xe=0,t.pv.errmsg=void 0,l||((l=document.createElement("div")).id="wrapper",n.appendChild(l)),a=z,l.style.fontSize=100*e.fontSize+"%",Le("Fetching RSS/Atom Feed . . .",j[0].url?j[0].url.length>77?j[0].url.substring(0,77)+"...":j[0].url:"?",u?v:null,!0),s=function(e){Z=!0,ee=!1,$=e},c=function(){ee=!0,Z=!1},d=function(){te=e.speed},p=function(){De(je,e.imgSize)},g=function(){l.style.fontSize=100*e.fontSize+"%",De(Te,null)},y=function(){De(Te,e.itemGap)},(x=function(){var t=w(e.colorNew);me=t?[t[0],t[1],t[2]]:[h[0],h[1],h[2]],t=w(e.colorOld),ge=t?[t[0],t[1],t[2]]:[f[0],f[1],f[2]]})(),(k=function(){ye=e.hrsNew})(),(S=function(){be=e.hrsOld})(),C=function(){ne=e.transparency,De(He,null)},A=function(){ve&&ae>1&&ue>0&&Ve()},L=function(){ve&&ae>1&&ue>0&&Ve()},R=function(){e.moveRight!==fe&&(fe=e.moveRight,D&&(W=1-W))},Ce=function n(r){if(ke())Se();else{if(ve&&ae>1&&!he&&de>0){var i=xe-de,o=ve.getBoundingClientRect();(i<0&&o.top<0||i>0&&o.bottom>document.body.clientHeight)&&(ve.style.top="",ve.style.bottom=document.body.clientHeight-(o.bottom+.03*screen.height*((0-i)/screen.height))+"px",(o=ve.getBoundingClientRect()).top>0?(ve.style.top="0px",ve.style.bottom=""):o.bottom<document.body.clientHeight&&(ve.style.top="",ve.style.bottom="0px"))}re||ie||(W>1?(W=1,Z?_($,!0):ee?B(!0):0===ae&&(W=Y=V=K=0,!e.keepUrl&&e.url.trim()&&e.url.trim()!==j[0].url?_(e.url.trim(),!0):(performance.now()-Q)/6e4>e.refetchMins?_(j[0].url,!0):F?P(j[0]):j[0].reqImgs||e.noImgs||j[0].hasImgs?((!j[0].reqImgs&&!e.noImgs||j[0].reqImgs&&e.noImgs)&&(j[0].reqImgs=!j[0].reqImgs,j[0].hasImgs&&Le()),P(j[0])):_(j[0].url,!0))):H||(I?D?(Fe(),Ae(r)):(D=!0,M(j[0]),P(j[0]),q=X=e.getBoundingClientRect().width,F?(t.pv.errmsg=j[0].error,Le("ERROR - "+j[0].error,j[0].url?j[0].url.length>77?j[0].url.substring(0,77)+"...":j[0].url:"?",u?v:null)):Le()):et())),requestAnimationFrame(n)}},window.addEventListener("mousedown",Xe,!0),window.addEventListener("mousedown",Ue,!1),window.addEventListener("mouseup",We,!1),window.addEventListener("mousemove",Ye,!1),requestAnimationFrame(Ce);case 81:case"end":return E.stop()}},E)}))).apply(this,arguments)}return t}(l(e)),e._impl.pv.fetchedListeners=[],e._impl.pv.runListeners=[],e._impl.pv.busyListeners=[],e._impl.pv.connected=!1,e._impl.pv.errmsg=void 0,e._impl.pv.fetchOpts=void 0,e.setAttribute("color-new","rgb("+h[0]+", "+h[1]+", "+h[2]+")"),e.setAttribute("color-old","rgb("+f[0]+", "+f[1]+", "+f[2]+")"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,s(HTMLElement)),u(t,null,[{key:"observedAttributes",get:function(){return["speed","img-size","font-size","item-gap","color-new","color-old","hrs-new","hrs-old","transparency","move-right"]}}]),u(t,[{key:"connectedCallback",value:function(){window.ShadyCSS&&ShadyCSS.styleElement(this),this._impl.upgradeProperty("url"),this._impl.upgradeProperty("speed"),this._impl.upgradeProperty("imgSize"),this._impl.upgradeProperty("fontSize"),this._impl.upgradeProperty("itemGap"),this._impl.upgradeProperty("colorNew"),this._impl.upgradeProperty("colorOld"),this._impl.upgradeProperty("hrsNew"),this._impl.upgradeProperty("hrsOld"),this._impl.upgradeProperty("transparency"),this._impl.upgradeProperty("infoBoxLinkColor"),this._impl.upgradeProperty("infoBoxLinkBgColor"),this._impl.upgradeProperty("keepUrl"),this._impl.upgradeProperty("refetchMins"),this._impl.upgradeProperty("noImgs"),this._impl.upgradeProperty("moveRight"),this._impl.upgradeProperty("proxyUrl"),this._impl.upgradeProperty("cancelRun"),this._impl.pv.connected=!0}},{key:"disconnectedCallback",value:function(){this._impl.stop(!0),this._impl.pv.connected=!1}},{key:"attributeChangedCallback",value:function(e,t,n){switch(e){case"speed":this._impl.speedChanged();break;case"img-size":this._impl.imgSizeChanged();break;case"font-size":this._impl.fontSizeChanged();break;case"item-gap":this._impl.itemGapChanged();break;case"color-new":case"color-old":this._impl.colorChanged();break;case"hrs-new":this._impl.hrsNewChanged();break;case"hrs-old":this._impl.hrsOldChanged();break;case"transparency":this._impl.transparencyChanged();break;case"infobox-link-color":this._impl.infoBoxLinkColorChanged();break;case"infobox-link-bgcolor":this._impl.infoBoxLinkBgColorChanged();break;case"move-right":this._impl.moveRightChanged()}}},{key:"startTicker",value:function(e){this._impl.start(e)}},{key:"stopTicker",value:function(){this._impl.stop()}},{key:"addFetchedListener",value:function(e){this._impl.pv.fetchedListeners.push(e)}},{key:"removeFetchedListener",value:function(e){var t=this._impl.pv.fetchedListeners.indexOf(e);t>=0&&this._impl.pv.fetchedListeners.splice(t,1)}},{key:"addRunListener",value:function(e){this._impl.pv.runListeners.push(e)}},{key:"removeRunListener",value:function(e){var t=this._impl.pv.runListeners.indexOf(e);t>=0&&this._impl.pv.runListeners.splice(t,1)}},{key:"addBusyListener",value:function(e){this._impl.pv.busyListeners.push(e)}},{key:"removeBusyListener",value:function(e){var t=this._impl.pv.busyListeners.indexOf(e);t>=0&&this._impl.pv.busyListeners.splice(t,1)}},{key:"url",set:function(e){this.setAttribute("url",String(e).trim())},get:function(){return this.hasAttribute("url")?this.getAttribute("url"):""}},{key:"speed",set:function(e){this.setAttribute("speed",String(e))},get:function(){var e;return e=(e=(this.hasAttribute("speed")?this.getAttribute("speed"):"").trim())?Number(e):NaN,isNaN(e)?3:e<1?1:e>10?10:e}},{key:"imgSize",set:function(e){this.setAttribute("img-size",String(e))},get:function(){var e;return e=(e=(this.hasAttribute("img-size")?this.getAttribute("img-size"):"").trim())?Number(e):NaN,isNaN(e)?4:e<1e-6?1e-6:e>999999?999999:e}},{key:"fontSize",set:function(e){this.setAttribute("font-size",String(e))},get:function(){var e;return e=(e=(this.hasAttribute("font-size")?this.getAttribute("font-size"):"").trim())?Number(e):NaN,isNaN(e)?1:e<1e-6?1e-6:e>999999?999999:e}},{key:"itemGap",set:function(e){this.setAttribute("item-gap",String(e))},get:function(){var e;return e=(e=(this.hasAttribute("item-gap")?this.getAttribute("item-gap"):"").trim())?Number(e):NaN,isNaN(e)?1:e<1e-6?1e-6:e>999999?999999:e}},{key:"colorNew",set:function(e){this.setAttribute("color-new",String(e))},get:function(){var e=this.hasAttribute("color-new")?this.getAttribute("color-new").trim():"";return 0===e.length?this.hasAttribute("color-old")?this.getAttribute("color-old").trim():"":e}},{key:"colorOld",set:function(e){this.setAttribute("color-old",String(e))},get:function(){var e=this.hasAttribute("color-old")?this.getAttribute("color-old").trim():"";return 0===e.length?this.hasAttribute("color-new")?this.getAttribute("color-new").trim():"":e}},{key:"hrsNew",set:function(e){this.setAttribute("hrs-new",String(e))},get:function(){var e;return e=(e=(this.hasAttribute("hrs-new")?this.getAttribute("hrs-new"):"").trim())?Number(e):NaN,isNaN(e)?1:e<1e-6?1e-6:e>999999?999999:e}},{key:"hrsOld",set:function(e){this.setAttribute("hrs-old",String(e))},get:function(){var e;return e=(e=(this.hasAttribute("hrs-old")?this.getAttribute("hrs-old"):"").trim())?Number(e):NaN,isNaN(e)?12:e<1e-6?1e-6:e>999999?999999:e}},{key:"transparency",set:function(e){this.setAttribute("transparency",String(e))},get:function(){var e;return e=(e=(this.hasAttribute("transparency")?this.getAttribute("transparency"):"").trim())?Number(e):NaN,isNaN(e)?.8:e<0?0:e>1?1:e}},{key:"infoBoxLinkColor",set:function(e){this.setAttribute("infobox-link-color",String(e))},get:function(){return this.hasAttribute("infobox-link-color")?this.getAttribute("infobox-link-color").trim():""}},{key:"infoBoxLinkBgColor",set:function(e){this.setAttribute("infobox-link-bgcolor",String(e))},get:function(){return this.hasAttribute("infobox-link-bgcolor")?this.getAttribute("infobox-link-bgcolor").trim():""}},{key:"keepUrl",set:function(e){Boolean(e)?this.setAttribute("keep-url",""):this.removeAttribute("keep-url")},get:function(){return this.hasAttribute("keep-url")}},{key:"refetchMins",set:function(e){this.setAttribute("refetch-mins",String(e))},get:function(){var e;return e=(e=(this.hasAttribute("refetch-mins")?this.getAttribute("refetch-mins"):"").trim())?Number(e):NaN,isNaN(e)?15:e<1e-6?1e-6:e>999999?999999:e}},{key:"noImgs",set:function(e){Boolean(e)?this.setAttribute("no-imgs",""):this.removeAttribute("no-imgs")},get:function(){return this.hasAttribute("no-imgs")}},{key:"moveRight",set:function(e){Boolean(e)?this.setAttribute("move-right",""):this.removeAttribute("move-right")},get:function(){return this.hasAttribute("move-right")}},{key:"proxyUrl",set:function(e){this.setAttribute("proxy-url",String(e))},get:function(){return this.hasAttribute("proxy-url")?this.getAttribute("proxy-url").trim():""}},{key:"cancelRun",set:function(e){Boolean(e)?this.setAttribute("cancel-run",""):this.removeAttribute("cancel-run")},get:function(){return this.hasAttribute("cancel-run")}},{key:"busy",get:function(){return!!this._impl.pv.busy}},{key:"errmsg",get:function(){return this._impl.pv.errmsg||""}},{key:"fetchOpts",set:function(e){this._impl.pv.fetchOpts=Object.assign({},e)},get:function(){return this._impl.pv.fetchOpts||{}}}]),t}(),b=!1,v=null;function w(e){if(e&&""!==e.trim()){if("#"===e[0])return e.length<7&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+(e.length>4?e[4]+e[4]:"")),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16),e.length>7?parseInt(e.substr(7,2),16)/255:1];if(-1===e.indexOf("rgb")){var t=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";if(t.style.color=n,t.style.color!==n)return void document.body.removeChild(t);if(t.style.color=e,t.style.color===n||""===t.style.color)return void document.body.removeChild(t);e=getComputedStyle(t).color,document.body.removeChild(t)}return 0===e.indexOf("rgb")?(-1===e.indexOf("rgba")&&(e+=",1"),e.match(/[\.\d]+/g).map(function(e){return parseFloat(e)})):void 0}}customElements.define("rss-ticker",y),customElements.whenDefined("rss-ticker").then(function(){return b=!0})}])});
//# sourceMappingURL=index.js.map